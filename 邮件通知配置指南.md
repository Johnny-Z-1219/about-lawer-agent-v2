# 📧 邮件通知配置指南

## 功能说明

网站已经集成了完整的在线咨询提交和邮件通知功能：

### ✅ 已实现的功能

1. **智能咨询系统**
   - 🤖 智能法律助手（右下角聊天按钮）
   - 📚 法律知识库问答
   - 🔄 API接口调用（/api/chat）
   - 📱 移动端适配

2. **在线咨询表单**
   - 📝 完整的咨询表单（姓名、电话、类型、内容）
   - ✅ 表单验证（必填项、手机号格式）
   - 📤 异步提交处理
   - 🎯 成功/失败状态反馈

3. **邮件通知系统**
   - 📧 自动发送邮件给董律师
   - 🎨 精美的HTML邮件模板
   - 📋 包含完整咨询信息
   - 🔢 生成唯一咨询编号

## 🔧 邮件配置步骤

### 第一步：获取QQ邮箱授权码

1. 登录 QQ邮箱 (2548365492@qq.com)
2. 点击 **设置** → **账户**
3. 找到 **POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务**
4. 开启 **IMAP/SMTP服务**
5. 生成并复制 **授权码**（不是QQ密码）

### 第二步：配置环境变量

在项目根目录创建 `.env.local` 文件：

```bash
# 邮件配置
EMAIL_USER=2548365492@qq.com
EMAIL_PASS=你的QQ邮箱授权码
```

### 第三步：重启服务器

```bash
npm run dev
```

## 📱 微信通知配置（可选）

当前微信通知功能已预留接口，可以接入：

1. **企业微信机器人**
2. **微信公众号模板消息**
3. **第三方通知服务**

## 🧪 测试功能

### 测试智能咨询

1. 点击右下角聊天图标
2. 输入关键词测试：
   - "合同" → 合同纠纷相关回复
   - "离婚" → 婚姻家庭法律建议
   - "工伤" → 劳动争议处理流程
   - "收费" → 律师费用标准
   - "预约" → 预约咨询方式

### 测试在线咨询表单

1. 滚动到页面底部联系方式区域
2. 填写完整的咨询表单
3. 提交后检查：
   - 页面显示成功提示
   - 董律师邮箱收到通知邮件
   - 控制台显示提交日志

## 🔍 功能特点

### 智能咨询优势

- **24/7 可用**：随时为访客提供基础法律咨询
- **专业回复**：基于法律知识库的智能回答
- **引导预约**：自动引导用户预约面谈
- **移动友好**：完美适配手机端使用

### 表单提交优势

- **即时通知**：提交后立即发送邮件通知
- **信息完整**：包含客户完整联系信息和咨询内容
- **专业模板**：精美的HTML邮件格式
- **追踪编号**：每个咨询生成唯一编号便于跟进

## 📊 使用统计

系统会自动记录：

- 咨询提交时间
- 客户联系信息
- 咨询类型分布
- 邮件发送状态

## 🔒 隐私保护

- 所有客户信息严格加密传输
- 邮件内容包含隐私保护提醒
- 符合法律行业保密要求

## 📞 技术支持

如遇到配置问题，请联系技术支持：

- 检查邮箱授权码是否正确
- 确认网络连接正常
- 查看服务器日志错误信息

---

**注意**：首次配置需要董律师本人设置QQ邮箱授权码，配置完成后即可正常接收咨询通知。 